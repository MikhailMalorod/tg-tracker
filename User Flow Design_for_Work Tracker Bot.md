# üéØ **User Flow Design –¥–ª—è Work Tracker Bot**

–û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è! –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø—Ä–æ–¥—É–º–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–≥–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ UX.

***

# üìã **–ë–ê–ó–û–í–´–ï USER FLOWS**

## üü¢ **Flow \#1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å (Happy Path)**

### **üåÖ –£—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

```mermaid
START ‚Üí /start_work "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—á—Ç—ã" ‚Üí TRACKING_ACTIVE
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**

1. `09:00` –ü—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Telegram ‚Üí –±–æ—Ç
3. –ù–∞–∂–∏–º–∞–µ—Ç `/start_work` –∏–ª–∏ –∫–Ω–æ–ø–∫—É "‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É"
4. –ü–∏—à–µ—Ç: `"–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—á—Ç—ã –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è"`
5. **–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
‚ñ∂Ô∏è –ù–∞—á–∞–ª –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—á—Ç—ã –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–Ω—è"
üïò –ù–∞—á–∞–ª–æ: 09:02

[‚è∏Ô∏è –ü–∞—É–∑–∞] [üìù –ó–∞–º–µ—Ç–∫–∞] [‚èπÔ∏è –ó–∞–≤–µ—Ä—à–∏—Ç—å]
```


### **üçΩÔ∏è –û–±–µ–¥–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤:**

```mermaid
TRACKING_ACTIVE ‚Üí /break "–û–±–µ–¥" ‚Üí BREAK_ACTIVE ‚Üí /resume ‚Üí TRACKING_ACTIVE
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**

1. `13:00` –ù–∞–∂–∏–º–∞–µ—Ç `‚è∏Ô∏è –ü–∞—É–∑–∞` –∏–ª–∏ `/break`
2. –ü–∏—à–µ—Ç: `"–û–±–µ–¥"`
3. **–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
‚è∏Ô∏è –ü–∞—É–∑–∞: "–û–±–µ–¥"
‚è±Ô∏è –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ: 3—á 58–º–∏–Ω

[‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å] [üìù –ó–∞–º–µ—Ç–∫–∞] [‚èπÔ∏è –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å]
```

4. `14:00` –ù–∞–∂–∏–º–∞–µ—Ç `‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å` –∏–ª–∏ `/resume`
5. –ü–∏—à–µ—Ç –Ω–æ–≤—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: `"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API"`

### **üè† –ö–æ–Ω–µ—Ü –¥–Ω—è:**

```mermaid
TRACKING_ACTIVE ‚Üí /end_work ‚Üí IDLE + DAILY_REPORT
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**

1. `18:00` –ù–∞–∂–∏–º–∞–µ—Ç `‚èπÔ∏è –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å` –∏–ª–∏ `/end_work`
2. **–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
‚úÖ –†–∞–±–æ—á–∏–π –¥–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω!

üìä –û–¢–ß–ï–¢ –ó–ê –î–ï–ù–¨:
üïò –û–±—â–µ–µ –≤—Ä–µ–º—è: 8—á 2–º–∏–Ω
‚è∞ –ß–∏—Å—Ç–æ–µ –≤—Ä–µ–º—è: 7—á 2–º–∏–Ω
üçΩÔ∏è –ü–µ—Ä–µ—Ä—ã–≤—ã: 1—á 0–º–∏–Ω

üìã –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—á—Ç—ã: 1—á 15–º–∏–Ω
‚Ä¢ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API: 4—á 20–º–∏–Ω  
‚Ä¢ Code review: 1—á 27–º–∏–Ω

üí™ –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 88%
```


***

## üü° **Flow \#2: –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–º–µ—Ç–∫–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã**

### **üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏:**

```mermaid
TRACKING_ACTIVE ‚Üí /note "–†–µ—à–µ–Ω–∏–µ" ‚Üí TRACKING_ACTIVE
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**

1. –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –Ω–∞–∂–∏–º–∞–µ—Ç `üìù –ó–∞–º–µ—Ç–∫–∞` –∏–ª–∏ `/note`
2. –ü–∏—à–µ—Ç: `"–†–µ—à–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ MySQL –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞"`
3. **–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
üìù –ó–∞–º–µ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫ —Ç–µ–∫—É—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
üïò –í—Ä–µ–º—è: 15:23
üíº –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API"

[üìã –í—Å–µ –∑–∞–º–µ—Ç–∫–∏] [‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Ä–∞–±–æ—Ç–µ]
```


***

## üü¢ **Flow \#3: –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏**

### **üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏:**

```mermaid
TASK_A ‚Üí /switch "Task B" ‚Üí TASK_B ‚Üí /switch "Task C" ‚Üí TASK_C
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**

1. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API"
2. –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ä–æ—á–Ω—É—é –∑–∞–¥–∞—á—É: `/start_work –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ`
3. **–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–¥–∞—á:
‚è∏Ô∏è –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API" (2—á 15–º–∏–Ω)
‚ñ∂Ô∏è –ù–∞—á–∞—Ç–æ: "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ"

[üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ API] [üìù –ó–∞–º–µ—Ç–∫–∞] [‚èπÔ∏è –ó–∞–≤–µ—Ä—à–∏—Ç—å]
```


***

# üî¥ **–ö–†–ê–ô–ù–ò–ï –°–û–°–¢–û–Ø–ù–ò–Ø –ò EDGE CASES**

## ‚ö†Ô∏è **Edge Case \#1: –ó–∞–±—ã–ª –Ω–∞—á–∞—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥**

### **–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∑–∞–±—ã–ª –≤–∫–ª—é—á–∏—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Flow:**

```mermaid
IDLE ‚Üí [11:00] /start_work "–£–∂–µ —Ä–∞–±–æ—Ç–∞—é 2 —á–∞—Å–∞" ‚Üí MANUAL_BACKTRACK
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `/start_work –†–∞–±–æ—Ç–∞—é –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º —É–∂–µ 2 —á–∞—Å–∞`
2. **–ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
ü§î –í–∏–∂—É, —á—Ç–æ –≤—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ!

–•–æ—Ç–∏—Ç–µ –∑–∞–¥–Ω–∏–º —á–∏—Å–ª–æ–º –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º—è?
[‚èÆÔ∏è –ù–∞—á–∞—Ç—å —Å 09:00] [‚èÆÔ∏è –ù–∞—á–∞—Ç—å —Å 10:00] [‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å]

–ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞:
```

3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ü–∏—é –∏–ª–∏ –ø–∏—à–µ—Ç –≤—Ä–µ–º—è
4. –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ

***

## ‚ö†Ô∏è **Edge Case \#2: –ó–∞–±—ã–ª –∑–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å**

### **–°—Ü–µ–Ω–∞—Ä–∏–π:** –£—à–µ–ª –¥–æ–º–æ–π, –Ω–µ –≤—ã–∫–ª—é—á–∏–≤ —Ç—Ä–µ–∫–∏–Ω–≥

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**

```python
# –õ–æ–≥–∏–∫–∞ –≤ –±–æ—Ç–µ
if current_time > 20:00 and user_status == "TRACKING_ACTIVE":
    send_message("üè† –í—ã –∑–∞–±—ã–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å?")
    show_options([
        "‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤ 18:00",
        "üïò –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤ –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è", 
        "üîÑ –ü—Ä–æ–¥–æ–ª–∂–∞—é —Ä–∞–±–æ—Ç–∞—Ç—å"
    ])
```

**User Flow:**

1. `20:30` **–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∏—à–µ—Ç:**

```
üè† –†–∞–±–æ—á–∏–π –¥–µ–Ω—å –¥–ª–∏—Ç—Å—è —É–∂–µ 11—á 30–º–∏–Ω!

–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∑–∞–±—ã–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥?

[‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤ 18:00] [üïò –î—Ä—É–≥–æ–µ –≤—Ä–µ–º—è] [üîÑ –ü—Ä–æ–¥–æ–ª–∂–∞—é]
```

2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç
3. –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ

***

## ‚ö†Ô∏è **Edge Case \#3: –î–≤–æ–π–Ω–æ–µ –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã**

### **–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ª—É—á–∞–π–Ω–æ –Ω–∞–∂–∞–ª /start_work –¥–≤–∞–∂–¥—ã

**–ó–∞—â–∏—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞:**

```mermaid
TRACKING_ACTIVE ‚Üí /start_work ‚Üí CONFLICT_RESOLUTION
```

**User Flow:**

1. –°—Ç–∞—Ç—É—Å: —É–∂–µ –∏–¥–µ—Ç —Ç—Ä–µ–∫–∏–Ω–≥ "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API"
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `/start_work –ö–æ–¥ —Ä–µ–≤—å—é`
3. **–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
‚ö†Ô∏è –£ –≤–∞—Å —É–∂–µ –∏–¥–µ—Ç —Ç—Ä–µ–∫–∏–Ω–≥ –∑–∞–¥–∞—á–∏:
"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API" (1—á 23–º–∏–Ω)

–ß—Ç–æ –¥–µ–ª–∞–µ–º?
[üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è] [‚ûï –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ–∫—É—â—É—é] [‚è∏Ô∏è –ü–∞—É–∑–∞ + –Ω–æ–≤–∞—è]
```


***

## ‚ö†Ô∏è **Edge Case \#4: –î–ª–∏–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ä—ã–≤—ã**

### **–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü–µ—Ä–µ—Ä—ã–≤ –¥–ª–∏—Ç—Å—è –±–æ–ª—å—à–µ 2 —á–∞—Å–æ–≤

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤:**

```python
if break_duration > 2_hours:
    send_notification("‚è∞ –ü–µ—Ä–µ—Ä—ã–≤ –¥–ª–∏—Ç—Å—è —É–∂–µ 2 —á–∞—Å–∞. –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å?")
```

**User Flow:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –ø–µ—Ä–µ—Ä—ã–≤–µ 2+ —á–∞—Å–∞
2. **–ë–æ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç:**

```
‚è∞ –ü–µ—Ä–µ—Ä—ã–≤ "–û–±–µ–¥" –¥–ª–∏—Ç—Å—è —É–∂–µ 2—á 15–º–∏–Ω

–í—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ?
[‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É] [üè† –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å] [üò¥ –ë–æ–ª—å–Ω–∏—á–Ω—ã–π]
```


***

## ‚ö†Ô∏è **Edge Case \#5: –†–∞–±–æ—Ç–∞ –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ**

### **–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å—É–±–±–æ—Ç—É/–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ

**–£–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:**

```mermaid
WEEKEND + /start_work ‚Üí WEEKEND_WARNING ‚Üí CONFIRM_WEEKEND_WORK
```

**User Flow:**

1. –°—É–±–±–æ—Ç–∞, 10:00: `/start_work –î–æ–¥–µ–ª—ã–≤–∞—é –ø—Ä–æ–µ–∫—Ç`
2. **–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**

```
üóìÔ∏è –°–µ–≥–æ–¥–Ω—è –≤—ã—Ö–æ–¥–Ω–æ–π!

–£–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å?
[üí™ –î–∞, —Ä–∞–±–æ—Ç–∞—é] [üìã –õ–∏—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç] [‚ùå –û—à–∏–±–∫–∞]

–¢–∏–ø –¥–Ω—è: [üè¢ –†–∞–±–æ—Ç–∞] [üè† –õ–∏—á–Ω–æ–µ] [üö® –°—Ä–æ—á–Ω–æ]
```


***

## ‚ö†Ô∏è **Edge Case \#6: –°–±–æ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞/–±–æ—Ç–∞**

### **–°—Ü–µ–Ω–∞—Ä–∏–π:** –ë–æ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

**Recovery Flow:**

1. –ë–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–Ω–ª–∞–π–Ω
2. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**

```
üîÑ –°–Ω–æ–≤–∞ –Ω–∞ —Å–≤—è–∑–∏!

–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API"
–ù–∞—á–∞–ª–æ: 14:30 (3 —á–∞—Å–∞ –Ω–∞–∑–∞–¥)

–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∑–∞ –≤—Ä–µ–º—è –º–æ–µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è?
[‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å] [‚è∏Ô∏è –î–µ–ª–∞–ª –ø–µ—Ä–µ—Ä—ã–≤] [üè† –ó–∞–≤–µ—Ä—à–∏–ª –¥–µ–Ω—å]
```

3. –ë–æ—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–∞

***

# üîÑ **–°–û–°–¢–û–Ø–ù–ò–Ø –ë–û–¢–ê (State Machine)**

```mermaid
graph TD
    A[IDLE] --> B[TRACKING_ACTIVE]
    B --> C[ON_BREAK]  
    C --> B
    B --> D[DAY_COMPLETED]
    D --> A
    B --> E[SWITCHING_TASKS]
    E --> B
    
    %% Edge cases
    A --> F[MANUAL_BACKTRACK]
    F --> B
    B --> G[CONFLICT_RESOLUTION]
    G --> B
    C --> H[LONG_BREAK_WARNING]
    H --> B
    H --> D
```


## **üìä –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**

| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã | –ü–µ—Ä–µ—Ö–æ–¥—ã |
| :-- | :-- | :-- | :-- |
| **IDLE** | –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | /start_work, /stats, /help | ‚Üí TRACKING_ACTIVE |
| **TRACKING_ACTIVE** | –ê–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç | /break, /note, /end_work, /switch | ‚Üí ON_BREAK, DAY_COMPLETED |
| **ON_BREAK** | –ù–∞ –ø–µ—Ä–µ—Ä—ã–≤–µ | /resume, /note, /end_work | ‚Üí TRACKING_ACTIVE, DAY_COMPLETED |
| **DAY_COMPLETED** | –î–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω | /stats, /start_work (–Ω–æ–≤—ã–π –¥–µ–Ω—å) | ‚Üí IDLE |
| **SWITCHING_TASKS** | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–¥–∞—á | Inline –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ | ‚Üí TRACKING_ACTIVE |
| **CONFLICT_RESOLUTION** | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ | Inline –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ | ‚Üí TRACKING_ACTIVE |


***

# üí¨ **–ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–´–ï –û–¢–í–ï–¢–´ –ë–û–¢–ê**

## **üß† –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏:**

```python
def get_contextual_greeting(hour):
    if 6 <= hour < 10:
        return "üåÖ –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –ì–æ—Ç–æ–≤—ã –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –¥–Ω—é?"
    elif 10 <= hour < 13:
        return "‚òÄÔ∏è –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –ö–∞–∫ –¥–µ–ª–∞ —Å —É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏?"
    elif 13 <= hour < 14:
        return "üçΩÔ∏è –í—Ä–µ–º—è –æ–±–µ–¥–∞! –ò–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å?"
    elif 14 <= hour < 18:
        return "‚ö° –î–æ–±—Ä—ã–π –¥–µ–Ω—å! –í–æ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ –¥–Ω—è —Å–∞–º–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Ñ–æ–∫—É—Å–∞!"
    elif 18 <= hour < 22:
        return "üåÜ –î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä! –ï—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –∏–ª–∏ –¥–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω?"
    else:
        return "üåô –ü–æ–∑–¥–Ω–∏–π —á–∞—Å... –ù–µ –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ?"
```


## **üìä –£–º–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:**

```python
def get_real_time_insights(current_session, today_stats):
    insights = []
    
    # –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
    if current_session['duration'] > 3600:  # –ë–æ–ª—å—à–µ —á–∞—Å–∞
        insights.append("üí™ –û—Ç–ª–∏—á–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è! –£–∂–µ —á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–∞")
    
    # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—ã—á–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º
    if today_stats['productivity'] > user_avg_productivity:
        insights.append("üìà –°–µ–≥–æ–¥–Ω—è –≤—ã –±–æ–ª–µ–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã —á–µ–º –æ–±—ã—á–Ω–æ!")
    
    # –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    if current_time.hour == 13 and not today_stats['had_lunch']:
        insights.append("üçΩÔ∏è –ü–æ—Ä–∞ –ø–æ–æ–±–µ–¥–∞—Ç—å? –ü–µ—Ä–µ—Ä—ã–≤—ã –≤–∞–∂–Ω—ã –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏")
    
    return insights
```


***

# üõ°Ô∏è **–û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö –ò –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï**

## **üîß –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫:**

### **1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞:**

```python
async def handle_db_error():
    return (
        "‚ö†Ô∏è –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö\n"
        "–í–∞—à–∞ —Å–µ—Å—Å–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏\n"
        "–î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
    )
```


### **2. –ù–µ–æ–ø–æ–∑–Ω–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:**

```python
async def handle_unknown_command(text):
    suggestions = find_similar_commands(text)
    return f"""
ü§î –ù–µ –ø–æ–Ω—è–ª –∫–æ–º–∞–Ω–¥—É "{text}"

–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∏–º–µ–ª–∏ –≤ –≤–∏–¥—É:
{format_suggestions(suggestions)}

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥
"""
```


### **3. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**

```python
async def handle_invalid_time(time_input):
    return (
        "‚è∞ –ù–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å –≤—Ä–µ–º—è\n"
        "–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:\n"
        "‚Ä¢ 09:30\n"
        "‚Ä¢ 2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥\n"
        "‚Ä¢ 15 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥"
    )
```


***

# üì± **–ê–î–ê–ü–¢–ò–í–ù–´–ô UX –î–õ–Ø –†–ê–ó–ù–´–• –£–°–¢–†–û–ô–°–¢–í**

## **üíª Desktop Telegram:**

```python
# –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∏ —Ç–µ–∫—Å—Ç
keyboard = [
    ["‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É", "‚è∏Ô∏è –ü–∞—É–∑–∞", "‚èπÔ∏è –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å"],
    ["üìù –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É", "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"]
]
```


## **üì± Mobile Telegram:**

```python
# –ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
keyboard = [
    ["‚ñ∂Ô∏è", "‚è∏Ô∏è", "‚èπÔ∏è"],
    ["üìù", "üìä", "‚öôÔ∏è"]
]
```


***

# üéØ **–§–ò–ù–ê–õ–¨–ù–ê–Ø –°–•–ï–ú–ê –í–°–ï–• USER FLOWS**

```mermaid
graph TD
    START([–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞]) --> A{–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫?}
    
    A -->|–î–∞| ONBOARD[–û–Ω–±–æ—Ä–¥–∏–Ω–≥ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞]
    A -->|–ù–µ—Ç| CHECK_STATE{–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ}
    
    ONBOARD --> IDLE[IDLE: –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ]
    
    CHECK_STATE -->|Idle| IDLE
    CHECK_STATE -->|Working| ACTIVE[TRACKING_ACTIVE]
    CHECK_STATE -->|Break| BREAK[ON_BREAK]
    CHECK_STATE -->|Completed| REPORT[–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç—á–µ—Ç]
    
    IDLE --> START_WORK{/start_work}
    START_WORK --> VALIDATE_TIME{–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏}
    
    VALIDATE_TIME -->|–ù–æ—Ä–º| ACTIVE
    VALIDATE_TIME -->|–í—ã—Ö–æ–¥–Ω–æ–π| WEEKEND_WARN[–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ]
    VALIDATE_TIME -->|–ü–æ–∑–¥–Ω–æ| LATE_WARN[–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –≤—Ä–µ–º–µ–Ω–∏]
    
    WEEKEND_WARN --> CONFIRM{–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ}
    CONFIRM -->|–î–∞| ACTIVE
    CONFIRM -->|–ù–µ—Ç| IDLE
    
    ACTIVE --> BREAK_CMD{/break}
    ACTIVE --> NOTE_CMD{/note}
    ACTIVE --> END_CMD{/end_work}
    ACTIVE --> SWITCH_CMD{/switch}
    
    BREAK_CMD --> BREAK
    BREAK --> RESUME{/resume}
    RESUME --> ACTIVE
    
    NOTE_CMD --> ADD_NOTE[–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É]
    ADD_NOTE --> ACTIVE
    
    END_CMD --> REPORT
    REPORT --> IDLE
    
    SWITCH_CMD --> TASK_SWITCH[–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–¥–∞—á]
    TASK_SWITCH --> ACTIVE
    
    %% Edge cases
    ACTIVE --> AUTO_CHECK{–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞}
    AUTO_CHECK -->|–î–æ–ª–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç| BREAK_SUGGEST[–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–µ—Ä–µ—Ä—ã–≤]
    AUTO_CHECK -->|–ü–æ–∑–¥–Ω–∏–π —á–∞—Å| END_SUGGEST[–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∑–∞–≤–µ—Ä—à–∏—Ç—å]
    
    BREAK --> LONG_BREAK_CHECK{–î–æ–ª–≥–∏–π –ø–µ—Ä–µ—Ä—ã–≤?}
    LONG_BREAK_CHECK -->|–î–∞| BREAK_WARN[–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ]
    BREAK_WARN --> RESUME
    BREAK_WARN --> END_CMD
```

**–≠—Ç–æ—Ç comprehensive user flow –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π UX –¥–ª—è –≤–∞—à–µ–≥–æ Work Tracker Bot! üöÄ**

